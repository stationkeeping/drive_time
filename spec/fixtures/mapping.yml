--- !map:HashWithIndifferentAccess

spreadsheets:
- title: Fixture 1
  dependencies: [Fixture 2]
  worksheets:
    - title: Group
      map_to_class: Act
      key: name
      fields: 
        name: auto
        formed: auto
      associations:
        - name: member
          builder: multi

    - title: Album
      key: name
      fields:
        year: auto
      associations:
        - name: label
          builder: use_fields
          field_names: [label_1, label_2, label_3]
          singular: true
        - name: act
          singular: true

    - title: Label
      key: name
      fields:
        genre: auto
        website: auto

    - title: Member
      key: name
      fields:
        year_of_birth: auto
        year_of_death: auto
        year: auto

- title: Fixture 2
  worksheets:
    - title: Track
      key:
        builder: join
        from_fields: [name, remix]
      fields:
        name: auto
        remix: auto
        duration: auto
      associations:
        - name: album
          inverse: true
